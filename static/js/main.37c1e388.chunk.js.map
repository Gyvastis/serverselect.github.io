{"version":3,"sources":["App.js","serviceWorker.js","index.js"],"names":["App","props","state","currencies","USD","currency","servers","this","setServers","fetch","then","response","json","rates","setState","forEach","serverList","filter","server","available","push","provider","meta","map","id","shortid","generate","columns","column","dataField","text","formatter","data","target","rel","href","price","unit","value","sort","firstBy","v","className","loading","keyField","cpu","amount","frequency","name","cores","ram","memory","type","storage","connType","join","bandwidthSpeed","bandwidthLimit","toFixed","location","city","country","url","bootstrap4","bordered","hover","striped","condensed","rowStyle","row","rowIndex","React","Component","Boolean","window","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.37c1e388.chunk.js","sourcesContent":["import React from 'react';\nimport shortid from 'shortid';\nimport firstBy from 'thenby';\nimport BootstrapTable from 'react-bootstrap-table-next';\nimport './App.css';\n\nconst fetchServers = () =>\n    fetch('https://raw.githubusercontent.com/serverselect/node-server-scraper/master/output/output.json')\n        .then(response => response.json())\n        .then(response => {\n            const servers = [];\n\n            response.forEach(serverList => {\n                serverList.servers.filter(server => server.available).forEach(server => {\n                    servers.push({\n                        ...server,\n                        provider: serverList.meta.provider,\n                    });\n                });\n            });\n\n            return servers;\n        });\n\nconst fetchCurrencies = () =>\n    fetch(\"http://data.fixer.io/api/latest?access_key=553a7ee7b07bf316af731f3c0bf251f7\")\n        .then(response => response.json())\n        .then(({ rates }) => rates);\n\nclass App extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            currencies: {\n                USD: 1.1,\n            },\n            currency: 'EUR',\n            servers: [],\n        };\n    }\n\n    componentDidMount() {\n        this.setServers();\n    }\n\n    setServers() {\n        fetchCurrencies().then(currencies => {\n            this.setState({\n                ...this.state,\n                currencies,\n            });\n        })\n        fetchServers()\n            .then(servers => {\n                this.setState({\n                    ...this.state,\n                    servers: servers.map(server => ({\n                        ...server,\n                        id: shortid.generate(),\n                    }))\n                });\n          });\n    }\n\n    render() {\n        const columns = [\n            'provider',\n            'cpu',\n            'ram',\n            'storage',\n            'bandwidthSpeed',\n            'bandwidthLimit',\n            'price',\n            'location',\n            'url',\n        ].map(column => ({\n            dataField: column,\n            text: column,\n            formatter: column === 'url' ? data => <a target=\"_blank\" rel=\"noopener noreferrer\" href={ data }>view</a> : null\n        }));\n\n        const servers = this.state.servers.map(server => {\n            if(server.price.unit !== 'EUR') {\n                return {\n                    ...server,\n                    price: {\n                        value: server.price.value / this.state.currencies[server.price.unit],\n                        unit: 'EUR'\n                    }\n                };\n            }\n\n            return server;\n        }).sort(firstBy(v => v.price.value)\n        // .thenBy((a, b) => parseFloat(a.cpu.frequency.replace(' Ghz')) > parseFloat(b.cpu.frequency.replace(' Ghz')))\n        // .thenBy((a, b) => a.memory.amout > b.memory.amout)\n        // .thenBy((a, b) => a.cpu.cores > b.cpu.cores)\n        // .thenBy((a, b) => a.storage.type === 'SSD' ? -1 : (b.storage.type === 'SSD' ? 1 : 0))\n        // .thenBy((a, b) => (a.storage.size * a.storage.amount * (a.storage.unit === 'TB' ? 1000 : 1)) > (b.storage.size * b.storage.amount * (b.storage.unit === 'TB' ? 1000 : 1)))\n        // .thenBy((a, b) => (a.bandwidthSpeed.value * (a.bandwidthSpeed.unit === 'Gbps' ? 1024 : 1)) > (b.bandwidthSpeed.value * (b.bandwidthSpeed.value.unit === 'Gbps' ? 1024 : 1)))\n        // .thenBy((a, b) => a.ip > b.ip)\n        );\n\n        // const filterPrice = 100;\n        // const avg = filterPrice / 3;\n\n        // const avg = _.mean(servers.map(server => server.price.value));\n        // console.log(avg)\n\n        const rowStyle = (row, rowIndex) => {\n            // if (parseFloat(row.price) > avg) return {};\n            //\n            // return { backgroundColor: 'cyan' };\n        };\n\n        return (\n            <div className=\"App\">\n                <h1>Best Dedicated Servers</h1>\n                <div>{this.state.currency}</div>\n                <BootstrapTable\n                    loading={this.state.servers <= 0}\n                    keyField='id'\n                    data={servers.map(server => ({\n                        id: server.id,\n                        provider: server.provider,\n                        cpu: `${server.cpu.amount}x ${server.cpu.frequency} ${server.cpu.name} ${server.cpu.cores} cores`,\n                        ram: `${server.memory.value} ${server.memory.unit} ${server.memory.type}`,\n                        storage: server.storage.map(storage => `${storage.amount}x ${storage.value} ${storage.unit} ${storage.type} ${storage.connType}`).join(' or '),\n                        bandwidthSpeed: `${server.bandwidthSpeed.value} ${server.bandwidthSpeed.unit}`,\n                        bandwidthLimit: server.bandwidthLimit.value > 0 ? `${server.bandwidthLimit.value} ${server.bandwidthLimit.unit}` : `âˆž`,\n                        price: `${server.price.value.toFixed(2)}`,\n                        location: `${server.location.city}, ${server.location.country}`,\n                        url: server.url,\n                    }))}\n                    columns={columns}\n                    bootstrap4={true}\n                    bordered={true}\n                    hover={true}\n                    striped={true}\n                    condensed={true}\n                    rowStyle={rowStyle}\n                />\n            </div>\n        );\n    }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}